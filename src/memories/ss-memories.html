<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../shared-styles.html">
<link rel="import" href="../../bower_components/app-layout/app-layout.html">
<link rel="import" href="../../bower_components/app-layout/app-grid/app-grid-style.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">

<dom-module id="ss-memories">
    <template>
        <style include="app-grid-style shared-styles ">
            :host {
                display: block;
                padding: 10px;
            }

            figure {
                --app-grid-columns: 1;
            }


        </style>

        <div class="card">

            <h1>First Memories</h1>

            <figure class="app-grid">
                <img id="selfie" src="../../images/avatar-placeholder.svg">
            </figure>

            <paper-button raised class="indigo" on-click="takeSelfie">
                selfie
            </paper-button>
            <paper-button raised class="green" on-click="takeLandmark">
                landmark
            </paper-button>

            <div style="display: none;">
                <input id="takeSelfie" type="file" accept="image/*" capture="user" on-change="uploadPhoto">
                <input id="takeLandmark" type="file" accept="image/*" capture="environment" on-change="uploadPhoto">
            </div>



        </div>
    </template>

    <script>
        class Memories extends Polymer.Element {
            static get is() {
                return 'ss-memories';
            }

            static get properties() {
                return {


                };
            }

            ready() {
                super.ready();
            }

            takeSelfie() {
                this.$.takeSelfie.click();
            }


            takeLandmark() {
                this.$.takeLandmark.click();
            }

            uploadPhoto(evt) {
                var files = Array.from(evt.target.files);
                if (files && files.length) {
                    var file = files[0];
                    this.$.selfie.src = URL.createObjectURL(file);
                }
            }



        }

        window.customElements.define(Memories.is, Memories);
    </script>
</dom-module>